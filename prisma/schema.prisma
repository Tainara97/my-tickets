generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = "postgres://postgres:Dos34ever97@@localhost:5432/test"
}

model Event {
  id      Int      @id @default(autoincrement())
  name    String   @unique
  date    DateTime
  tickets Ticket[]

  @@map("events")
}

model Ticket {
  id      Int     @id @default(autoincrement())
  owner   String
  code    String
  used    Boolean @default(false)
  eventId Int
  Event   Event   @relation(fields: [eventId], references: [id], onDelete: Cascade)

  @@unique([eventId, code])
  @@map("tickets")
}
